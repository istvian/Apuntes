# Diccionario de datos

Es un elemento de consulta, es como un catalogo donde hay mucha información. 
Es un conjunto de vistas que dan información sobre el contenido de una base de datos, tales como: 
- Usuarios y permisos
- Estructuras de almacenamiento
- Los objetos (Tablas, vistas, indices, etc)

La creación o modificacion de un objeto de la BD provoca la actualización del diccionario de datos, para reflejar dichos cambios.

El diccionario lo actualiza Oracle, automaticamente, cuando se ejecutan sentencias SQL DDL (Data Definition Language), (CREATE, ALTER, DROP)

## Ejemplos

### 1) Ver todos los nombres de tablas y vistas, que contienen los objetos del diccionario de datos.

```SQL
SELECT * FROM DICTIONARY;
```


<img width="1003" height="280" alt="image" src="https://github.com/user-attachments/assets/d6c7525e-5343-4022-8717-25362cbdd4c6" />

### 2) Nombre de la base de datos

```SQL
SELECT VALUE FROM V$SYSTEM_PARAMETER WHERE NAME = 'db_name';
```

<img width="433" height="111" alt="image" src="https://github.com/user-attachments/assets/f96e3365-edae-4249-9354-399b8c1f5f3c" />

### 3) Ver conexiones actuales a Oracle

```SQL
SELECT OSUSER, USERNAME, MACHINE, PROGRAM FROM V$SESSION ORDER BY OSUSER;
```


<img width="408" height="401" alt="image" src="https://github.com/user-attachments/assets/e4b3056f-8720-477b-9e64-3659b3b86bbc" />

### 4) Ver tablas que empiezan con A del usuario

```SQL
SELECT * FROM USER_TABLES WHERE TABLE_NAME LIKE 'A%';
```
<img width="1526" height="257" alt="image" src="https://github.com/user-attachments/assets/ab56e5f8-f7a1-4648-8bbd-ace42a705def" />



### 5) Ver todos los objetos del usuario

```SQL
SELECT * FROM user_catalog;
```

<img width="343" height="373" alt="image" src="https://github.com/user-attachments/assets/6ebc4bad-e37c-4935-92ca-e36bf9718d4f" />


### 6) Ver las vistas del usuario

```SQL
SELECT * FROM USER_CATALOG WHERE TABLE_TYPE = 'VIEW';
```

<img width="425" height="328" alt="image" src="https://github.com/user-attachments/assets/8915d777-9b3b-4d8a-9b59-2fbf61189d36" />

> [!TIP]
> Cuando uno escribe y guarda un SELECT pasa a llamarse VISTA o VIEW

### 7) Ver restricciones de integridad
Para revisar las claves (constrains) de una tabla creada, escribir:

```SQL
SELECT * FROM USER_CONSTRAINTS WHERE TABLE_NAME = 'MATRICULAS';
```

<img width="1560" height="212" alt="image" src="https://github.com/user-attachments/assets/278cb630-22a7-4aec-8d38-dfcba4fadf50" />

> [!TIP]
> LA 'C' es Check => Chequea que no es nulo

> [!TIP]
> La 'P' es que es una PRIMARY

> [!TIP]
> La 'R' que es FORANEA

Información sobre [Check](https://github.com/istvian/Apuntes/blob/master/1%C2%B0%20Semestre/Base_datos/Clase%2002-06-25.md#clase-lunes-2-de-junio-2025)


### 8) Ver tablas del usuario system

```SQL
SELECT * FROM USER_TABLES WHERE TO_CHAR(LAST_ANALIZED, 'yyyy')= '2025';
```

### 9) Ver tamaño ocupado por una tabla

```SQL
SELECT SUM(bytes)/1024/1024 MB from user_segments where segment_type = 'TABLE' and segment_name = 'MATRICULAS' ;
```

<img width="446" height="130" alt="image" src="https://github.com/user-attachments/assets/c7ac2975-65f8-4b88-b5fa-792aa93e8136" />

### 10) Ver tamaño ocupado por cada usuario

```SQL
SELECT OWNER, SUM(bytes)/1024/1024 mb FROM DBA_EXTENTS GROUP BY OWNER;
```

<img width="435" height="322" alt="image" src="https://github.com/user-attachments/assets/565ea2cf-e207-4db6-a1cc-a68f2ce15a30" />

Ver el tamaño ocupado por 1 usuario
```SQL
SELECT OWNER, SUM(bytes)/1024/1024 mb FROM DBA_EXTENTS WHERE OWNER = 'SYSTEM' GROUP BY OWNER ;
```

## Clase 'ONLINE' en sala

<img width="757" height="445" alt="image" src="https://github.com/user-attachments/assets/c5b026e3-e31b-46cf-b872-b505e2863a63" />
