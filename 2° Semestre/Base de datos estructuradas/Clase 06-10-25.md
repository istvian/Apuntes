
```sql
Create table ALUMNOS(
rutAlumno varchar2(13) primary key not null,
apPatAlumno varchar2(20),
apMatAlumno varchar2(20),
nombresAlumno varchar2(30),
fechaNac date
);

Create table CARRERAS(
codigoCarrera varchar2(10) primary key not null,
nombreCarrera varchar2(50),
totalHorasCarr number(4),
totalSemestres number(2)
);

Create table MATRICULAS(
numMatricula number(8) primary key not null,
año number(4),
semestre number(1),
costo number(7),
fecha date,
codigoCarrera varchar2(10) not null references CARRERAS,
rutAlumno varchar2(13) not null references ALUMNOS
);


Create table PROFESORES(
rutProfesor varchar2(13) primary key not null,
apPatProfesor varchar2(20),
apMatProfesor varchar2(20),
nombresProfesor varchar2(30),
tituloProfesor varchar2(40)
);


Create table ASIGNATURAS (
codAsignatura varchar2(10) primary key not null ,
nombreAsignatura varchar2(30) null,
totalHorasAsign number(3),
tipoAsignatura varchar2(10)
);






Create table INSCRIPCIONES(
codInscripcion varchar2(10) primary key not null,
año number(4),	
semestre number(2),
rutAlumno varchar2(13) not null references ALUMNOS,
codigoAsignatura varchar2(10) not null references ASIGNATURAS
);


Create table PAGOSAPROFESORES(
codigoPago varchar2(10) primary key not null,
mes number(2),
año number(4),
semestre number(1),
monto number(7),
rutProf varchar2(13) not null references PROFESORES,
codigoAsign varchar2(10) not null references ASIGNATURAS 
);


Insert into alumnos values('22424737-9','Soto','Miranda','Víctor','23/7/2004');
Insert into alumnos values('21325011-9','Ferrer','Godoy','Isabel','5/12/2003');
Insert into alumnos values('21116906-4','Donoso','Vera','Daniela',null);
Insert into alumnos values('22257368-4','Castro','Saavedra','Martín',null);
Insert into alumnos values('22265087-k','Lozano','Vera','Carlos','20/5/2004');
Insert into alumnos values('21790344-0','Saavedra','Alarcón','Valeria','6/10/2003');
Insert into alumnos values('21590230-7','Barra','Mena','Marcela','14/9/2004');
Insert into alumnos values('22339045-5','Neira','Agurto','Nelson','6/2/2003');

Insert into carreras values('r41','Refrigeración',1859,4);
Insert into carreras values('a70','Automatización',2279,4);
Insert into carreras values('iei','Ingeniería Informática',7454,8);
Insert into carreras values('t34','Topografía',4408,8);
Insert into carreras values('b50','Analista Programador',3908,4);

Insert into matriculas values(2500,2022,1,110000,'21/2/2022','b50','21325011-9');
Insert into matriculas values(2501,2022,1,130000,'21/2/2022','r41','22424737-9');
Insert into matriculas values(2502,2022,1,142000,'23/2/2022','iei','21790344-0');
Insert into matriculas values(2503,2022,1,142000,'24/2/2022','iei','22257368-4');
Insert into matriculas values(2504,2022,1,120000,'25/2/2022','a70','22265087-k');
Insert into matriculas values(2505,2022,1,150000,'25/2/2022','t34','21116906-4');
Insert into matriculas values(2506,2022,1,110000,'26/2/2022','b50','21590230-7');
Insert into matriculas values(2507,2022,1,150000,'27/2/2022','t34','22339045-5');





Insert into matriculas values(2600,2022,2,130000,'12/7/2022','r41','22424737-9');
Insert into matriculas values(2601,2022,2,142000,'13/7/2022','iei','21790344-0');
Insert into matriculas values(2602,2022,2,142000,'13/7/2022','iei','22257368-4');
Insert into matriculas values(2603,2022,2,150000,'14/7/2022','t34','21116906-4');
Insert into matriculas values(2604,2022,2,110000,'14/7/2022','b50','21590230-7');
Insert into matriculas values(2605,2022,2,150000,'15/7/2022','t34','22339045-5');


Insert into profesores values('10545676-1','Martínez','Núñez','Teresa','Pedagogo en matemáticas');
Insert into profesores values('7789000-2','Aguayo','Soto','Manuel','Periodista');
Insert into profesores values('11324657-0','Alarcón','Meneses','Victoria','Periodista');
Insert into profesores values('8799800-4','Gallardo','Vargas','Miguel','Traductor en inglés');
Insert into profesores values('10435768-9','Ulloa','Carrasco','Laura','Traductor en inglés');
Insert into profesores values('9540998-2','Ramos','Lara','María','Ingeniero en informática');
Insert into profesores values('9439878-8','Parra','Bustos','Eliana','Ingeniero en refrigeración');

Insert into asignaturas values('as1000','Matemáticas I',70,'lectiva');
Insert into asignaturas values('as2000','Inglés I',70,'lectiva');
Insert into asignaturas values('as3000','Técnicas de comunicación',70,'lectiva');
Insert into asignaturas values('as4000','Base de datos 1',88,'práctica');
Insert into asignaturas values('as4500','Base de datos 2',88,'práctica');
Insert into asignaturas values('as5000','Refrigeración I',90,'práctica');

Insert into inscripciones values('in500',2022,1,'21325011-9','as1000');
Insert into inscripciones values('in510',2022,1,'21325011-9','as4000');
Insert into inscripciones values('in520',2022,1,'22424737-9','as2000');
Insert into inscripciones values('in530',2022,1,'22424737-9','as5000');
Insert into inscripciones values('in540',2022,1,'21790344-0','as1000');
Insert into inscripciones values('in550',2022,1,'21790344-0','as4000');
Insert into inscripciones values('in560',2022,1,'22257368-4','as1000');
Insert into inscripciones values('in570',2022,1,'22257368-4','as4000'); 
Insert into inscripciones values('in580',2022,1,'22265087-k','as2000');
Insert into inscripciones values('in590',2022,1,'22265087-k','as3000');
Insert into inscripciones values('in600',2022,1,'21116906-4','as1000');
Insert into inscripciones values('in610',2022,1,'21116906-4','as3000');
Insert into inscripciones values('in620',2022,1,'21590230-7','as1000');
Insert into inscripciones values('in630',2022,1,'21590230-7','as4000');
Insert into inscripciones values('in640',2022,1,'22339045-5','as1000');
Insert into inscripciones values('in650',2022,1,'22339045-5','as3000');


Insert into inscripciones values('in800',2022,2,'22424737-9','as1000');
Insert into inscripciones values('in810',2022,2,'22424737-9','as5000');
Insert into inscripciones values('in820',2022,2,'21790344-0','as2000');
Insert into inscripciones values('in830',2022,2,'21790344-0','as4500');
Insert into inscripciones values('in840',2022,2,'22257368-4','as2000');
Insert into inscripciones values('in850',2022,2,'22257368-4','as4500');
Insert into inscripciones values('in860',2022,2,'21116906-4','as2000');
Insert into inscripciones values('in870',2022,2,'21116906-4','as3000');
Insert into inscripciones values('in880',2022,2,'21590230-7','as2000');
Insert into inscripciones values('in890',2022,2,'21590230-7','as4500');
Insert into inscripciones values('in900',2022,2,'22339045-5','as2000');
Insert into inscripciones values('in910',2022,2,'22339045-5','as3000');


Insert into pagosaprofesores values('mar2022657',3,2022,1,60000,'11324657-0','as3000');
Insert into pagosaprofesores values('abr2022657',4,2022,1,80000,'11324657-0','as3000');
Insert into pagosaprofesores values('may2022657',5,2022,1,80000,'11324657-0','as3000');
Insert into pagosaprofesores values('jun2022657',6,2022,1,80000,'11324657-0','as3000');
Insert into pagosaprofesores values('jul2022657',7,2022,1,80000,'11324657-0','as3000');

Insert into pagosaprofesores values('mar2022808',3,2022,1,70000,'10435768-9','as2000');
Insert into pagosaprofesores values('abr2022808',4,2022,1,88000,'10435768-9','as2000');
Insert into pagosaprofesores values('may2022808',5,2022,1,92000,'10435768-9','as2000');
Insert into pagosaprofesores values('jun2022808',6,2022,1,96000,'10435768-9','as2000');
Insert into pagosaprofesores values('jul2022808',7,2022,1,87000,'10435768-9','as2000');

Insert into pagosaprofesores values('mar2022900',3,2022,1,80000,'9439878-8','as5000');
Insert into pagosaprofesores values('abr2022900',4,2022,1,60000,'9439878-8','as5000');
Insert into pagosaprofesores values('may2022900',5,2022,1,80000,'9439878-8','as5000');
Insert into pagosaprofesores values('jun2022900',6,2022,1,80000,'9439878-8','as5000');
Insert into pagosaprofesores values('jul2022900',7,2022,1,80000,'9439878-8','as5000');

Insert into pagosaprofesores values('mar2022998',3,2022,1,75000,'10545676-1','as1000');
Insert into pagosaprofesores values('abr2022998',4,2022,1,50000,'10545676-1','as1000');
Insert into pagosaprofesores values('may2022998',5,2022,1,75000,'10545676-1','as1000');
Insert into pagosaprofesores values('jun2022998',6,2022,1,75000,'10545676-1','as1000');
Insert into pagosaprofesores values('jul2022998',7,2022,1,75000,'10545676-1','as1000');

Insert into pagosaprofesores values('mar2022558',3,2022,1,80000,'9540998-2','as4000');
Insert into pagosaprofesores values('abr2022558',4,2022,1,60000,'9540998-2','as4000');
Insert into pagosaprofesores values('may2022558',5,2022,1,80000,'9540998-2','as4000');
Insert into pagosaprofesores values('jun2022558',6,2022,1,80000,'9540998-2','as4000');
Insert into pagosaprofesores values('jul2022558',7,2022,1,80000,'9540998-2','as4000');











Insert into pagosaprofesores values('ago2022658',8,2022,2,70000,'7789000-2','as3000');
Insert into pagosaprofesores values('sep2022658',9,2022,2,90000,'7789000-2','as3000');
Insert into pagosaprofesores values('oct2022658',10,2022,2,90000,'7789000-2','as3000');
Insert into pagosaprofesores values('nov2022658',11,2022,2,97000,'7789000-2','as3000');
Insert into pagosaprofesores values('dic2022658',12,2022,2,99000,'7789000-2','as3000');

Insert into pagosaprofesores values('ago2022800',8,2022,2,90000,'8799800-4','as2000');
Insert into pagosaprofesores values('sep2022800',9,2022,2,70000,'8799800-4','as2000');
Insert into pagosaprofesores values('oct2022800',10,2022,2,90000,'8799800-4','as2000');
Insert into pagosaprofesores values('nov2022800',11,2022,2,90000,'8799800-4','as2000');
Insert into pagosaprofesores values('dic2022800',12,2022,2,90000,'8799800-4','as2000');

Insert into pagosaprofesores values('ago2022900',8,2022,2,80000,'9439878-8','as5000');
Insert into pagosaprofesores values('sep2022900',9,2022,2,60000,'9439878-8','as5000');
Insert into pagosaprofesores values('oct2022900',10,2022,2,80000,'9439878-8','as5000');
Insert into pagosaprofesores values('nov2022900',11,2022,2,80000,'9439878-8','as5000');
Insert into pagosaprofesores values('dic2022900',12,2022,2,80000,'9439878-8','as5000');

Insert into pagosaprofesores values('ago2022998',8,2022,2,75000,'10545676-1','as1000');
Insert into pagosaprofesores values('sep2022998',9,2022,2,50000,'10545676-1','as1000');
Insert into pagosaprofesores values('oct2022998',10,2022,2,75000,'10545676-1','as1000');
Insert into pagosaprofesores values('nov2022998',11,2022,2,75000,'10545676-1','as1000');
Insert into pagosaprofesores values('dic2022998',12,2022,2,75000,'10545676-1','as1000');

Insert into pagosaprofesores values('ago2022558',8,2022,2,80000,'9540998-2','as4500');
Insert into pagosaprofesores values('sep2022558',9,2022,2,60000,'9540998-2','as4500');
Insert into pagosaprofesores values('oct2022558',10,2022,2,80000,'9540998-2','as4500');
Insert into pagosaprofesores values('nov2022558',11,2022,2,80000,'9540998-2','as4500');
Insert into pagosaprofesores values('dic2022558',12,2022,2,80000,'9540998-2','as4500');



```

Mostrar nomkbre de la carrera de la matricula numero 2502. Están en tablas distintas, pero se pueden conectar.

Se utilizan operaciones como:

#### EJEMPLO 1: Mostrar nombre completo de alumnos matriculados:

```SQL
SELECT NOMBRESALUMNO, APPATALUMNO, APMATALUMNO
FROM ALUMNOS, MATRICULAS
WHERE ALUMNOS.RUTALUMNO = MATRICULAS.RUTALUMNO;

SELECT NOMBRESALUMNO, APPATALUMNO, APMATALUMNO
FROM ALUMNOS INNER JOIN MATRICULAS
ON ALUMNOS.RUTALUMNO = MATRICULAS.RUTALUMNO;

```

<img width="319" height="312" alt="image" src="https://github.com/user-attachments/assets/eed0e895-a07c-45e3-b60f-4630a681febe" />

#### EJEMPLO 2:
MOSTRAR SIN REPETIR NOMBRES COMPLETOS DE ALUMNOS CON ASIGNATURAS INSCRITAS

```SQL
SELECT DISTINCT NOMBRESALUMNO, APPATALUMNO, APMATALUMNO
FROM ALUMNOS, INSCRIPCIONES
WHERE ALUMNOS.RUTALUMNO = INSCRIPCIONES.RUTALUMNO;
```

### USO DE ALIAS PARA LOS NOMBRES DE LAS TABLAS

PUEDE SER UNA LETRA, O MÁS

```SQL
SELECT DISTINCT NOMBRESALUMNO, APPATALUMNO, APMATALUMNO
FROM ALUMNOS, INSCRIPCIONES
WHERE ALUMNOS.RUTALUMNO = INSCRIPCIONES.RUTALUMNO;

SELECT DISTINCT NOMBRESALUMNO, APPATALUMNO, APMATALUMNO
FROM ALUMNOS A, INSCRIPCIONES I
WHERE A.RUTALUMNO = I.RUTALUMNO;
```

#### EJEMPLO 3:
MOSTRAR NOMBRES DE CARRERAS CON SUS FECHAS DE MATRICULA

```SQL
SELECT NOMBRECARRERA, FECHA
FROM MATRICULAS M, CARRERAS C
WHERE M.CODIGOCARRERA = C.CODIGOCARRERA;
```
#### EJEMPLO 4:
MOSTRAR RUT, NOMBRES, AP PATERNO, FECHAS DE MATRICULAS, DE ALUMNOS QUE SE HAN MATRICULADO DESPUES DEL 25/2/2022

```SQL
SELECT RUTALUMNO, NOMBRESALUMNO, APPATALUMNO, FECHA
FROM ALUMNOS A, MATRICULAS M
WHERE A.RUTALUMNO = M.RUTALUMNO AND M.FECHA > '25/02/2022';
```
SALE ESTE ERROR, PORQUE EN EL SELECT DICE RUTALUMNO, ENTONCES NO SABE RUT ALUMNO DE QUE TABLA

<img width="258" height="171" alt="image" src="https://github.com/user-attachments/assets/82d4a00f-1ebc-4910-ba28-21655a176c31" />

```SQL
SELECT A.RUTALUMNO, NOMBRESALUMNO, APPATALUMNO, FECHA
FROM ALUMNOS A, MATRICULAS M
WHERE A.RUTALUMNO = M.RUTALUMNO
AND M.FECHA > '25/02/2022';

-- FUNCIONA PORQUE UTILIZA EL ALIAS, PODRIA SER A O M
-- SI COLOCO ALUMNOS.RUTALUMNO NO FUNCIONA
```

#### EJEMPLO 5
MOSTRAR AÑO, MES Y MONTO EN QUE SE HA PAGADO MENOS DE 70000 POR LA ASIGNATURA 'Matemáticas I'

```sql
SELECT AÑO,MES, MONTO
FROM  ASIGNATURAS A, PAGOSAPROFESORES P
WHERE CODASIGNATURA = CODIGOASIGN
AND MONTO < 70000
AND NOMBREASIGNATURA = 'Matemáticas I';
```

#### EJERCICIO PROPUESTO

MOSTRAR LOS RUT DE ALUMNOS QUE HAN INSCRITO LA ASIGNATURA TECNICAS DE COMUNICACION EN EL SEGUNDO SEMESTRE DEL 2022

```SQL
SELECT RUTALUMNO
FROM INSCRIPCIONES, ASIGNATURAS
WHERE CODIGOASIGNATURA = CODASIGNATURA
AND NOMBREASIGNATURA = 'Técnicas de comunicación'
AND SEMESTRE = 2
AND AÑO=2022;
```

### SELECT CON 3 TABLAS SIMULTANEAMENTE

#### EJEMPLO 6: MOSTRAR NOMBRES COMPLETOS DE ALUMNOS, AÑO Y SEMESTRE DE ALUMNOS QUE SE HAN INSCRITO EN Matemáticas I

```SQL
SELECT NOMBRESALUMNO, APPATALUMNO, APMATALUMNO, AÑO, SEMESTRE
FROM ALUMNOS AL, INSCRIPCIONES I, ASIGNATURAS A
WHERE AL.RUTALUMNO = I.RUTALUMNO
AND I.CODIGOASIGNATURA = A.CODASIGNATURA
AND NOMBREASIGNATURA = 'Matemáticas I';
```

#### EJEMPLO 7: MOSTRAR MONTOS, AÑOS Y SEMESTRES PAGADOS A LA PROFESORA ELIANA PARRA POR LA ASIGNATURA REFRIGERACIÓN i

```SQL
SELECT MONTO, AÑO, SEMESTRE
FROM PAGOSAPROFESORES, PROFESORES, ASIGNATURAS
WHERE CODASIGNATURA = CODIGOASIGN
AND RUTPROF = RUTPROFESOR
AND NOMBREASIGNATURA = 'Refrigeración I'
AND NOMBRESPROFESOR = 'Eliana'
AND APPATPROFESOR = 'Parra';
```

## JOIN

JOIN ES UNA CLASUSA
INNER JOIN
OUTER JOIN
CROSS JOIN

### INNER JOIN
EJEMPLO 1:
MOSTRAR NOMBRES COMPLETOS DE ALUMNOS INSCRITOS EN A ASIGNATURA CON CODIGO as3000

```SQL
SELECT NOMBRESALUMNO, APPATALUMNO, APMATALUMNO
FROM ALUMNOS A JOIN INSCRIPCIONES I
ON A.RUTALUMNO = I.RUTALUMNO
WHERE CODIGOASIGNATURA = 'as3000';
```

AL USAR JOIN E IGUALAR CLAVES CON EL MISMO NOMBRE SE PUEDE OCUPAR LA CLAUSULA USING

```SQL
SELECT NOMBRESALUMNO, APPATALUMNO, APMATALUMNO
FROM ALUMNOS JOIN INSCRIPCIONES
USING (RUTALUMNO)
WHERE CODIGOASIGNATURA = 'as3000';
```

> [!TIP]
> SE UTILIZA USING CUANDO LOS NOMBRES DE LOS CAMPOS SON IGUALES

EJEMPLO 2:
MOSTRAR NOMBRES COMPLETOS DE ALUMNOS, AÑO Y SEMESTRE DE ALUMNOS QUE SE HAN INSCRITO EN MATEMATICAS I

```SQL
SELECT NOMBRESALUMNO, APPATALUMNO, APMATALUMNO, AÑO, SEMESTRE
FROM ALUMNOS 
JOIN INSCRIPCIONES USING(RUTALUMNO)
JOIN ASIGNATURAS ON CODIGOASIGNATURA = CODASIGNATURA
WHERE NOMBREASIGNATURA = 'Matemáticas I';
```

### OUTER JOIN

PERMITE ELEGIR A CUAL DE LAS DOS TABLAS DARLE PRIORIDAD EN LA SALIDA DE DATOS DEL SELECT.
OUTERJOIN TIENE 2 OPCIONES, PRINCIPALMENTE: 
RIGHT OUTER JOIN Y LEFT OUTER JOIN

RIGHT OUTER JOIN = RIGHT JOIN
LA TABLA QUE VA A LA DERECHA VA A SALIR COMPLETA.

EJEMPLO RIGHT JOIN

```SQL
SELECT NOMBREASIGNATURA, CODINSCRIPCION
FROM INSCRIPCIONES RIGHT OUTER JOIN ASIGNATURAS
ON CODASIGNATURA = CODIGOASIGNATURA;
```

LEFT JOIN PRIORIZA A LA IZQUIERDA

```SQL
SELECT NOMBRECARRERA, COSTO
FROM CARRERAS C LEFT JOIN MATRICULAS M
ON C.CODIGOCARRERA= M.CODIGOCARRERA;
```

## CROSS JOIN (O PRODUCTO CRUZ)

EL PRODUCTO CRUZ O PRODUCTO CARTESIANO PERMITE VISUALIZAR EL TOTAL DE COMBINACIONES POSIBLES, ENTRE DOS O MÁS TABLAS

EJEMPLO:

```SQL
SELECT * FROM CARRERAS
CROSS JOIN ALUMNOS;
```

