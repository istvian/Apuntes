## Repaso clase pasada
Actor => El que interactua con el sistema

EXTEND => CONDICIONADO MÁS QUE OPCIONAL

# Diagrama de clases

Clase => Conjunto de objetos que tienen las mismas caracteristicas, atributos, metodos, etc

### ¿Qué es un diagrama de clases?
- Muestra las clases del sistema, sus datos (atributos), sus acciones (metodos) y relaciones
- Representa la estructura estática del sistema.

#### Clase: Conjunto de objetos. 
- Plantilla/molde de un tipo de cosa del sistema
- Ej: Usuario, Libro, Pedido
- En UML: Rectangulo con nombre, atributos y metodos.
- No confundir con objeto

|NOMBRE DE LA CLASE|
|-----|
|ATRIBUTOS|
|------|
|METODOS|

#### Objeto: Es una instancia
- Ejemplo concreto a partir de una clase
- Si Clase = Usuario, Objeto ="Juan Perez"

#### Atributo:
-Es un dato que describe la clase
-UML: 'Visibilidad nombre: Tipo'
(ej: -rut:String)
- No pongas acciones como atributos.

#### Metodo:
Acción de la clase o objeto.
- UML: 'visibilidad nombre(parametros): TipoRetorno'
- Ej: registrar(), prestar(), calcularTotal()

#### Visibilidad (+, -, #)
(+) publico: cualquier clase lo puede usar
(-) privado: solo dentro de la clase (recomendado para atributos)
(#) protegido: clase y subclases

#### Tipos de datos

Multiplicidad => Lo mismo que la cardinalidad en base de datos
- Indica cuantos objetos se relacionan
- 1= uno; 0...1 = 0 o uno; o ..* = muhcos; 1..* = uno o más
- Ej: Usuario 0..* Prestamo; Prestamo 1 Libro


#### Relación: Asociación
- Vinculo entre clases que colaboran
- Puede tener roles y multiplicidades
- Ej: Usuario -- realiza -- Prestamo

#### Relación: Agregación (rombo blanco)
- Todo-parte débil: Las partes existen sin el todo
- Ej:Curso -- contiene -- Estudiante

#### Relación: Composición (rombo negro)
- Todo-parte debil: Las partes NO existen sin el todo.
- Ej: Pedido -- tiene -- ItemDePedido

#### Relación Herencia / Generalización
 - Clase hija reutiliza de clase padre("es-un")
 - Ej: Empleado hereda

#### Dependencia
- Una clase usa a otra temporalmente (parametro/variable local)

#### De casos de uso a Clases (pasos)
1. Sustantivos => Clases
2. Verbos => Metodos
3. Datos => Atributos
4. Relaciones => multiplicidad
5. Revisión de visibilidad

### Ejercicio

La tienda don Benito esta ubicada en la población los Castaños y vende abarrotes, verduras y bebidas. En la actualidad los vecinos son los que compran los productos de la tienda y tambien los devuelven cuando estos estan en mal estado o vencidos.
Se le solicita: 
1) Identificar las clases
2) Los Atributos
3) Los metodos

Tienda =>
+ Nombre
+ Ubicación
Metodos:
Vender(Producto):void
Devolución(Producto):void

Cliente =>
+ Comprar(Producto): void
+ Devolver(Producto): void

Producto =>
+ Nombre
+ Tipo (abarrotes, verduras, bebidas)
+ Costo
+ Estado (Buenos, mal estado, vencidos)

Producto puede tener subclases: Abarrotes, verduras, bebidas.

----
```
Clases

Producto
  Atributo: Codigo, nombre, precio, tipo, estado
  Metodos: vender(), registrar(), revisar_estado(), buscar(), devolver()

  Subclases:
    Abarrotes:
      Atributo: ingrediente, fecha_elaboración, fecha_vencimiento
    Bebidas:
      Atributo: Ingrediente, fecha_elaboración, fecha_vencimiento
    Verduras:
      Atributo: fecha_ingreso
Cliente
  Atributo: nombre, dirección, teléfono
  Metodo: registrar(), solicitar_compra(), solicitar_devolucion()

Tienda
  Atributo: nombre, dirección, productos : Producto[]
  
```

## Buenas practicas
- Nombres claros y en singular
- Atributos = datos / Metodos = Acciones
- Multiplicidades coherentes
- Atributos privados, metodos publicos
- No inventes elementos fuera de los requisitos

> [!NOTE]
> TAREA: REALIZAR DIAGRAMA DE CLASE
> Identificar Clases, Metodos, Atributos, Multiplicidad, Relación, Composición, etc

Se desea modelar el funcionamiento de una biblioteca municipal, la cual consta de tres plantas, de las que necesitamos saber la capacidad de sus estanterías (es decir, el número de libros que pueden albergar) para así realizar las reordenaciones oportunas cuando se reciben nuevos ejemplares.

Los libros se organizan según la temática: libros infantiles, narrativa, ensayo, poesía, etc. Para ello, se deben registrar los libros que se encuentran en la biblioteca, teniendo en cuenta que puede haber más de un ejemplar de cada libro. Cada libro contará al menos con un identificador único, una fecha de préstamo y otra de entrega.

El préstamo máximo será de 30 días. Los lectores que no entreguen el libro a tiempo tendrán penalización. Para aplicar esa penalización, la biblioteca cuenta con una ficha por cada lector, con su número de identificación o pasaporte, su nombre y su dirección postal. Para fomentar la lectura, los empleados de la biblioteca, que poseen su propia identificación como tales, pueden llevar libros a casa por un plazo mayor que los usuarios convencionales.
