# ORDER BY

Ordena según un campo, va al final de la sentencia y por defecto ordena de forma ascendente.

## Ejemplo:

```sql
SELECT CODVENTA, COSTOVENTA FROM VENTAS ORDER BY COSTOVENTA;
```

Para hacerlo descendente solo se agrega desc al final

```sql
SELECT CODVENTA, COSTOVENTA FROM VENTAS ORDER BY COSTOVENTA DESC;
```

***Puedo ordenar por varios campos a la vez.***

Ejemplo:
Se puede ordenar por marca y modelo a la vez

```sql
SELECT * FROM EQUIPOS ORDER BY MARCAEQUIPO, MODELOEQUIPO;
```

> [!IMPORTANT]
> En base de datos esto muestra los datos ordenados, pero no ordena los datos en la base de datos.


### Ejercicio propuesto

Mostrar ordenadas las personas por apellido paterno y materno a la vez

```sql
SELECT * FROM PERSONAS ORDER BY APPATPER, APMATPER;
```
RESULTADO

![image](https://github.com/user-attachments/assets/91e5c711-336c-487c-8295-dc99a44aa066)

# Funciones grupales
SUM, AVG, MIN, MAX Y COUNT (Suma, promedio, menor, mayor, contar)

---

### SUM
Calcula la suma de los valores de un campo

```sql
SELECT SUM(COSTOVENTA) FROM VENTAS;
```

### AVG
Promediar los costos pagados en ventas

```sql
SELECT AVG(COSTOVENTA) Promedio_de_ventas --  ESTO ES UN ALIAS
FROM VENTAS;
```

> [!NOTE]
> Un alias reemplaza el nombre por defecto. No puede llevar espacios

```sql
SELECT ROUND(AVG(COSTOVENTA),2) Promedio_de_ventas --  ESTO ES UN ALIAS
FROM VENTAS;
```

> [!TIP]
> El Round redondea a la cantidad de decimales indicada, cuando se utiliza promedio, es muy importante usarlo

### MIN
Muestra el menor valor del campo

Ejemplo: Obtener el menor costo de venta

```sql
SELECT MIN(COSTOVENTA) MÍNIMO
FROM VENTAS;
```

Cuando se necesita la fecha de venta más antigua (la primera), usar:

```sql
SELECT MIN(FECHAVENTA)
FROM VENTAS;
```

### MAX
Es lo contrario a MIN, muestra el mayor
En las fechas muestra la fecha más reciente (la última)

```sql
SELECT MAX(FECHAVENTA)
FROM VENTAS;
```

### COUNT
Calcula la cantidad de valores de un campo, "los cuenta"

Ejemplo: Contar los telefonos de las personas

```sql
SELECT COUNT(FONOPER)
FROM PERSONAS;
```

> [!TIP]
> Para contar todos los registros de una tabla, por ejemplo, para la tabla personas, se escribe: COUNT(*)

```SQL
SELECT COUNT(*)
FROM PERSONAS;
```

## Ejercicio propuesto

1) Mostrar rut de personas a quienes se ha vendido el equipo con código DRF54

```SQL
SELECT RUTPERSONA FROM VENTAS WHERE CODEQUIPO ='DRF54';
```

2) VISUALIZAR CODIGOS DE EQUIPOS VENDIDOS ENTRE EL 1 DE MAYO DEL 2023 AL 4 DE JULIO DEL 2023

```SQL
-- UTILIZANDO UN WHERE AND
SELECT CODEQUIPO FROM VENTAS WHERE FECHAVENTA >='01/05/2023' AND FECHAVENTA <='04/07/2023';

-- UTILIZANDO UN BETWEEN
SELECT CODEQUIPO FROM VENTAS WHERE FECHAVENTA BETWEEN '01/05/2023' AND '4/7/2023';
```

3) MOSTRAR NOMBRE COMPLETO DE PERSONAS CUYOS RUT EMPIEZAN CON 14

```SQL
SELECT NOMPER, APPATPER, APMATPER FROM PERSONAS WHERE RUTPER LIKE '14%';
```
