# SQL Developer

Se crea tabla clientes 

```sql
CREATE TABLE Clientes( 
rutCli VARCHAR2(10) not null, 
nombresCli VARCHAR2(25),  
apPatCli VARCHAR2(15), 
apMatCli VARCHAR2(15), 
fonoCli number(9),  
primary key (rutCli) 
) 
```

Se crea tabla Autos 
```sql
CREATE TABLE Autos( 
patente varchar2(6) not null, 
marca varchar2(15), 
modelo varchar2(15), 
año number(4), 
primary key(patente) 
) 
```

Se crea tabla intermedia Arriendo Autos y se define la clave foranea 
```sql
CREATE TABLE ArriendoAutos( 
numArriendo number(6) not null,  
fechaInicioArriendo date, 
fechaFinArriendo date, 
valorArriendo number(7), 
rutC varchar2(10) not null,  
pat varchar2(6) not null,  
primary key(numArriendo), 
FOREIGN KEY(rutC) references Clientes(rutCli), 
foreign key(pat) references Autos(patente) 
) 
``` 

 

FOREIGN KEY(nombreLocal) references Tabla(PrimariaExterna) 


 

## Cambiar nombre a una tabla 

```sql
RENAME clientes to cliente 
```


## Eliminar una tabla de la base de datos 
DROP TABLE <nombredetabla> 

```sql
drop table ArriendoAutos; 
select * from arriendoautos; 
drop table Autos 

Informe de error - 

ORA-02449: unique/primary keys in table referenced by foreign keys 

02449. 00000 -  "unique/primary keys in table referenced by foreign keys" 

*Cause:    An attempt was made to drop a table with unique or 

           primary keys referenced by foreign keys in another table. 

*Action:   Before performing the above operations the table, drop the 

           foreign key constraints in other tables. You can see what 

           constraints are referencing a table by issuing the following 

           command: 

           SELECT * FROM USER_CONSTRAINTS WHERE TABLE_NAME = "tabnam"; 

```

Una tabla con clave primaria que otra depende de ella no se elimina.

 

## ALTER (Modifica estructura de una tabla) 

 

## Modificar tamaño 

```sql
ALTER TABLE clientes MODIFY appatcli varchar2(20); 
describe clientes; 
```
> **Warning**
> Cuidado al reducir el tamaño ejemplo 
> Varchar(15) a varchar(10) porque corta los datos. 

 

## Agregar campos 
```sql
ALTER TABLE autos ADD color varchar2(15); 
describe autos; 
```

 

## Agregar PK Olvidada 
```sql
Alter table <tabla> add constraint <nombre pk> primary key(<campo pk>) 
```

 

## Agregar FK Olvidada 
```
Alter table <tabla> add constraint <nombre fk> foreign key(<campo fk>) references <tabla madre>(<campo pk de tabla madre>) 
```

 

## Cambiar el nombre de un campo 

```sql
ALTER TABLE autos RENAME COLUMN color to colorAuto; 
DESCRIBE autos;    
```

 

## Eliminar un campo 
```sql
ALTER TABLE autos DROP COLUMN colorauto;
```
 
